(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,n(i.key),i)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var r="http://www.w3.org/2000/svg",i=function(){return t=function t(){var e,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,(i=n(i="radius"))in e?Object.defineProperty(e,i,{value:50,enumerable:!0,configurable:!0,writable:!0}):e[i]=50,this.svg=document.createElementNS(r,"svg"),this.svg.setAttribute("viewBox","".concat(-this.radius," ").concat(-this.radius," ").concat(2*this.radius," ").concat(2*this.radius))},(i=[{key:"createRings",value:function(){for(var t=0;t<this.numberRing;t++){var e=t/(2*this.numberRing),n=this.createEllipse(.9*this.radius,this.radius,1-e,64*e,90*e);this.svg.appendChild(n)}}},{key:"createEllipse",value:function(t,e,n,i,o){var a=document.createElementNS(r,"g"),u=document.createElementNS(r,"ellipse");u.setAttribute("cx","".concat(0)),u.setAttribute("cy","".concat(0)),u.setAttribute("rx","".concat(t)),u.setAttribute("ry","".concat(e)),u.setAttribute("stroke-width","".concat(this.lineWidth)),u.setAttribute("stroke",this.color),u.setAttribute("opacity","".concat(n)),u.setAttribute("fill","none");var c=document.createElementNS(r,"animateTransform");return c.setAttribute("attributeName","transform"),c.setAttribute("type","rotate"),c.setAttribute("from","".concat(o," ").concat(0," ").concat(0)),c.setAttribute("to","".concat(o+360," ").concat(0," ").concat(0)),c.setAttribute("dur","".concat(i)),c.setAttribute("repeatCount","indefinite"),u.appendChild(c),a.appendChild(u),a}},{key:"setLineWidth",value:function(t){this.lineWidth=t}},{key:"setNumberRing",value:function(t){this.numberRing=t}},{key:"setMoveRange",value:function(t){this.moveRange=t}},{key:"setColor",value:function(t){this.color=t}}])&&e(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var l=u((function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=e,this.g=n,this.b=r,this.a=i}));function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}function p(t){var e="function"==typeof Map?new Map:void 0;return p=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(b())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&v(i,n.prototype),i}(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,t)},p(t)}function b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(b=function(){return!!t})()}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var m=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=function(t,e,n){return e=d(e),function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,b()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}(this,e)).ring=new i,r.initRingSetting();var o=document.createElement("style");return o.textContent="\n    :host {\n        position : absolute;\n        display : block;\n        overflow:hidden;\n        }\n        svg {\n            display : block;\n            height : 100%;\n            width : 100%;\n        }\n            ",r.attachShadow({mode:"open"}),null===(t=r.shadowRoot)||void 0===t||t.appendChild(r.ring.svg),null===(n=r.shadowRoot)||void 0===n||n.appendChild(o),r.ring.createRings(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(e,t),n=e,o=[{key:"obsedrvedAttributes",get:function(){return["line-width","move-range","number","color"]}}],(r=[{key:"connectedCallback",value:function(){}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){console.log("Attribute changed: ".concat(t," from ").concat(e," to ").concat(n))}},{key:"initRingSetting",value:function(){var t=this.getFloatAttribute("line-width"),e=this.getFloatAttribute("move-range"),n=this.getFloatAttribute("number"),r=this.getColorAttribute("color");this.ring.setLineWidth(t),this.ring.setMoveRange(e),this.ring.setNumberRing(n),this.ring.setColor("rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(r.a,")"))}},{key:"getFloatAttribute",value:function(t){return parseFloat(this.getAttribute(t)||"0")}},{key:"getColorAttribute",value:function(t){var e=this.getAttribute(t);if(e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(",").map((function(t){var e=Number(t);return isNaN(e)?null:e})),4),r=n[0],i=n[1],o=n[2],a=n[3];if(null!==r&&null!==i&&null!==o&&null!==a)return new l(r,i,o,a)}return new l(255,255,255,1)}},{key:"setTransform",value:function(t){this.style.left="".concat(t.x,"px"),this.style.top="".concat(t.y,"px")}},{key:"setWidth",value:function(t){this.width=t,this.style.width="".concat(t,"px")}},{key:"setHeight",value:function(t){this.height=t,this.style.height="".concat(t,"px")}}])&&h(n.prototype,r),o&&h(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(p(HTMLElement));function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S(r.key),r)}}function S(t){var e=function(t){if("object"!=g(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}var A=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"calculateHypotenuse",value:function(t,e){var n=Math.pow(t,2)+Math.pow(e,2);return Math.sqrt(n)}},{key:"distanceBetweenPoints",value:function(t,e){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return this.calculateHypotenuse(n,r)}},{key:"AngleBetweenPoints",value:function(t,e){var n=e.x-t.x,r=e.y-t.y;return Math.atan2(r,n)*(180/Math.PI)}}],null&&w(t.prototype,null),e&&w(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j(r.key),r)}}function P(t,e,n){return(e=j(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t){var e=function(t){if("object"!=k(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==k(e)?e:e+""}var O=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),P(this,"lineWidth",0),P(this,"frequency",0),P(this,"shift",0),P(this,"speed",0),P(this,"currentTime",0),P(this,"animationId",null),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.createTime=Date.now(),this.startAnimation()},(e=[{key:"drawWave",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.beginPath();var t=this.getYByX(0);this.context.moveTo(0,t);for(var e=0;e<this.canvas.width;e++){var n=this.getYByX(e);this.context.lineTo(e,n)}this.context.stroke()}},{key:"startAnimation",value:function(){var t=this;this.stopAnimation();var e=function(n){t.currentTime=n,t.drawWave(),t.animationId=requestAnimationFrame(e)};this.animationId=requestAnimationFrame(e)}},{key:"stopAnimation",value:function(){null!==this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}},{key:"getYByX",value:function(t){var e=this.frequency*Math.PI*2*(t/this.canvas.width)+-this.speed*(this.currentTime-this.createTime)/1e3+this.shift;return this.getAmplitude()*Math.sin(e)+this.canvas.clientHeight/2}},{key:"getAmplitude",value:function(){return this.canvas.clientHeight/2-this.lineWidth/2}},{key:"setFrequency",value:function(t){this.frequency=t}},{key:"setShift",value:function(t){this.shift=t}},{key:"setSpeed",value:function(t){this.speed=t}},{key:"setLineWidth",value:function(t){this.context.lineWidth=t,this.lineWidth=t}},{key:"setColor",value:function(t,e,n,r){this.context.strokeStyle="rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")}},{key:"optimazeContext",value:function(){this.canvas.height=this.canvas.clientHeight*devicePixelRatio,this.canvas.width=this.canvas.clientWidth*devicePixelRatio,this.context.scale(devicePixelRatio,devicePixelRatio)}}])&&x(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function R(t){var e="function"==typeof Map?new Map:void 0;return R=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(F())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&M(i,n.prototype),i}(t,arguments,W(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),M(n,t)},R(t)}function F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(F=function(){return!!t})()}function M(t,e){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},M(t,e)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function I(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t){var e=function(t){if("object"!=C(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=C(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:e+""}var B=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),I(r=function(t,e,n){return e=W(e),function(t,e){if(e&&("object"==C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,F()?Reflect.construct(e,n||[],W(t).constructor):e.apply(t,n))}(this,e),"width",0),I(r,"height",0),I(r,"degree",0),r.wave=new O;var i=document.createElement("style");return i.textContent="\n    :host {\n      position : absolute;\n      display: block;\n      overflow: hidden;\n      transform-origin : center;\n      }\n      canvas {\n        display: block;\n        height : 100%;\n        width : 100%;\n        }\n        ",r.attachShadow({mode:"open"}),null===(t=r.shadowRoot)||void 0===t||t.appendChild(r.wave.canvas),null===(n=r.shadowRoot)||void 0===n||n.appendChild(i),r.updateWaveSetting(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e)}(e,t),n=e,i=[{key:"observedAttributes",get:function(){return["x1","y1","x2","y2","amplitude","frequency","shift","line-width","speed","color"]}}],(r=[{key:"connectedCallback",value:function(){console.log("WaveElement connectedCallback")}},{key:"disconnectedCallback",value:function(){console.log("WaveElement disconnectedCallback"),this.wave.stopAnimation()}},{key:"attributeChangedCallback",value:function(t,e,n){console.log("Attribute changed: ".concat(t," from ").concat(e," to ").concat(n)),this.updateWaveSetting()}},{key:"updateWaveSetting",value:function(){var t={x:this.getFloatAttribute("x1"),y:this.getFloatAttribute("y1")},e={x:this.getFloatAttribute("x2"),y:this.getFloatAttribute("y2")},n=this.getColorAttribute("color"),r=this.getFloatAttribute("amplitude"),i=this.getFloatAttribute("frequency"),o=this.getFloatAttribute("shift"),a=this.getFloatAttribute("line-width"),u=this.getFloatAttribute("speed");this.setHeight(r),this.updateAppearanceBTwoPoints(t,e),this.wave.optimazeContext(),this.wave.setFrequency(i),this.wave.setShift(o),this.wave.setSpeed(u),this.wave.setLineWidth(a),this.wave.setColor(n.r,n.g,n.b,n.a)}},{key:"getFloatAttribute",value:function(t){return parseFloat(this.getAttribute(t)||"0")}},{key:"getColorAttribute",value:function(t){var e=this.getAttribute(t);if(e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(",").map((function(t){var e=Number(t);return isNaN(e)?null:e})),4),r=n[0],i=n[1],o=n[2],a=n[3];if(null!==r&&null!==i&&null!==o&&null!==a)return new l(r,i,o,a)}return new l(255,255,255,1)}},{key:"updateAppearanceBTwoPoints",value:function(t,e){var n=A.distanceBetweenPoints(t,e);this.setWidth(n);var r=A.AngleBetweenPoints(t,e);this.setRotate(r),this.setTransform(t)}},{key:"setTransform",value:function(t){var e=this.degree*Math.PI/180,n=this.width/2,r=this.height/2,i=-(n-n*Math.cos(e)),o=n*Math.sin(e)-r;this.style.left="".concat(t.x+i,"px"),this.style.top="".concat(t.y+o,"px")}},{key:"setWidth",value:function(t){this.width=t,this.style.width="".concat(t,"px")}},{key:"setHeight",value:function(t){this.height=t,this.style.height="".concat(t,"px")}},{key:"setRotate",value:function(t){this.degree=t,this.style.rotate="".concat(t,"deg")}}])&&E(n.prototype,r),i&&E(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(R(HTMLElement));function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L(r.key),r)}}function N(t,e,n){return(e=L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L(t){var e=function(t){if("object"!=q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:e+""}var D=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,"mainColor",""),N(this,"fadeColor",""),N(this,"lineWidth",0),N(this,"frequency",0),N(this,"shift",0),N(this,"currentTime",0),N(this,"animationId",null),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.createTime=Date.now(),this.startAnimation()},(e=[{key:"drawWind",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.beginPath(),this.context.strokeStyle=this.coloring();for(var t=0;t<this.canvas.width;t++){var e=this.getYByX(t);this.context.lineTo(t,e)}this.context.stroke()}},{key:"coloring",value:function(){var t=this.canvas.clientWidth,e=this.context.createLinearGradient(0,0,t,0),n=t*((Date.now()-this.createTime)/1e3)/8%(1.3*t)/t;return e.addColorStop(Math.min(Math.max(n-.3,0),1),this.fadeColor),e.addColorStop(Math.min(Math.max(n-.15,0),1),this.mainColor),e.addColorStop(Math.min(Math.max(n,0),1),this.fadeColor),e}},{key:"startAnimation",value:function(){var t=this;this.stopAnimation();var e=function(n){t.currentTime=n,t.drawWind(),t.animationId=requestAnimationFrame(e)};this.animationId=requestAnimationFrame(e)}},{key:"stopAnimation",value:function(){null!==this.animationId&&(cancelAnimationFrame(this.animationId),this.animationId=null)}},{key:"getYByX",value:function(t){var e=2*Math.PI*this.frequency*(t/this.canvas.width)+this.shift;return this.getAmplitude()*Math.sin(e)+this.canvas.clientHeight/2}},{key:"getAmplitude",value:function(){return this.canvas.clientHeight/2-this.lineWidth/2}},{key:"setFrequency",value:function(t){this.frequency=t}},{key:"setShift",value:function(t){this.shift=t}},{key:"setLineWidth",value:function(t){this.context.lineWidth=t,this.lineWidth=t}},{key:"setMainColor",value:function(t,e,n,r){this.mainColor="rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")}},{key:"setFadeColor",value:function(t,e,n,r){this.fadeColor="rgba(".concat(t,",").concat(e,",").concat(n,",").concat(r,")")}},{key:"optimazeContext",value:function(){this.canvas.height=this.canvas.clientHeight*devicePixelRatio,this.canvas.width=this.canvas.clientWidth*devicePixelRatio,this.context.scale(devicePixelRatio,devicePixelRatio)}}])&&H(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q(r.key),r)}}function U(t){var e="function"==typeof Map?new Map:void 0;return U=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if($())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&G(i,n.prototype),i}(t,arguments,J(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),G(n,t)},U(t)}function $(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($=function(){return!!t})()}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},G(t,e)}function J(t){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(t)}function K(t,e,n){return(e=Q(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q(t){var e=function(t){if("object"!=X(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=X(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==X(e)?e:e+""}var V=function(t){function e(){var t,n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),K(r=function(t,e,n){return e=J(e),function(t,e){if(e&&("object"==X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$()?Reflect.construct(e,n||[],J(t).constructor):e.apply(t,n))}(this,e),"width",0),K(r,"height",0),K(r,"degree",0),r.wind=new D;var i=document.createElement("style");return i.textContent="\n    :host {\n      position : absolute;\n      display: block;\n      overflow: hidden;\n      transform-origin : center;\n      }\n      canvas {\n        display: block;\n        height : 100%;\n        width : 100%;\n        }\n        ",r.attachShadow({mode:"open"}),null===(t=r.shadowRoot)||void 0===t||t.appendChild(r.wind.canvas),null===(n=r.shadowRoot)||void 0===n||n.appendChild(i),r.updateWindSetting(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(e,t),n=e,i=[{key:"observedAttributes",get:function(){return["x1","y1","x2","y2","amplitude","frequency","shift","line-width","main-color","fade-color"]}}],(r=[{key:"connectedCallback",value:function(){console.log("WaveElement connectedCallback")}},{key:"disconnectedCallback",value:function(){console.log("WaveElement disconnectedCallback"),this.wind.stopAnimation()}},{key:"attributeChangedCallback",value:function(t,e,n){console.log("Attribute changed: ".concat(t," from ").concat(e," to ").concat(n)),this.updateWindSetting()}},{key:"updateWindSetting",value:function(){var t={x:this.getFloatAttribute("x1"),y:this.getFloatAttribute("y1")},e={x:this.getFloatAttribute("x2"),y:this.getFloatAttribute("y2")},n=this.getColorAttribute("main-color"),r=this.getColorAttribute("fade-color"),i=this.getFloatAttribute("amplitude"),o=this.getFloatAttribute("frequency"),a=this.getFloatAttribute("shift"),u=this.getFloatAttribute("line-width");this.setHeight(i),this.updateAppearanceBTwoPoints(t,e),this.wind.optimazeContext(),this.wind.setFrequency(o),this.wind.setShift(a),this.wind.setLineWidth(u),this.wind.setMainColor(n.r,n.g,n.b,n.a),this.wind.setFadeColor(r.r,r.g,r.b,r.a)}},{key:"getFloatAttribute",value:function(t){return parseFloat(this.getAttribute(t)||"0")}},{key:"getColorAttribute",value:function(t){var e=this.getAttribute(t);if(e){var n=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],c=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,i=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(",").map((function(t){var e=Number(t);return isNaN(e)?null:e})),4),r=n[0],i=n[1],o=n[2],a=n[3];if(null!==r&&null!==i&&null!==o&&null!==a)return new l(r,i,o,a)}return new l(255,255,255,1)}},{key:"updateAppearanceBTwoPoints",value:function(t,e){var n=A.distanceBetweenPoints(t,e);this.setWidth(n);var r=A.AngleBetweenPoints(t,e);this.setRotate(r),this.setTransform(t)}},{key:"setTransform",value:function(t){var e=this.degree*Math.PI/180,n=this.width/2,r=this.height/2,i=-(n-n*Math.cos(e)),o=n*Math.sin(e)-r;this.style.left="".concat(t.x+i,"px"),this.style.top="".concat(t.y+o,"px")}},{key:"setWidth",value:function(t){this.width=t,this.style.width="".concat(t,"px")}},{key:"setHeight",value:function(t){this.height=t,this.style.height="".concat(t,"px")}},{key:"setRotate",value:function(t){this.degree=t,this.style.rotate="".concat(t,"deg")}}])&&z(n.prototype,r),i&&z(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(U(HTMLElement));customElements.define("custom-wave",B),customElements.define("custom-wind",V),customElements.define("custom-ring",m)})();